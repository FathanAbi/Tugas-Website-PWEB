<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kalkulator</title>
</head>
<body>
    <h1>kalkulator</h1>
    <form id="calculator-form">
        <h2 id="field"></h2>
        <br>
        
        <button type="button" onclick="onClick(1)">1</button>
        <button type="button" onclick="onClick(2)">2</button>
        <button type="button" onclick="onClick(3)">3</button><br>
        <button type="button" onclick="onClick(4)">4</button>
        <button type="button" onclick="onClick(5)">5</button>
        <button type="button" onclick="onClick(6)">6</button><br>
        <button type="button" onclick="onClick(7)">7</button>
        <button type="button" onclick="onClick(8)">8</button>
        <button type="button" onclick="onClick(9)">9</button><br>
        <button type="button" onclick="onClick(0)">0</button>
        <button type="button" onclick="backspace()">backspace</button>
        <button type="button" onclick="clearText()">clear</button><br>
        <button type="button" onclick="onClick('+')">+</button>
        <button type="button" onclick="onClick('-')">-</button>
        <button type="button" onclick="onClick('*')">x</button>
        <button type="button" onclick="onClick('/')">:</button><br>
        <button type="button" onclick="calculate()">Calculate</button>

    </form>
    <p id="result"></p>
    <p id="error"></p>

    <script>
        let stringOperation = "";
        function onClick(char){
            document.getElementById("field").append(char);
            stringOperation = stringOperation + char;
        }
        
        function backspace(){
            const element = document.getElementById("field");
            let content = element.textContent;

            // Step 3: Use string manipulation to remove a character (e.g., the last character)
            content = content.slice(0, -1); // Remove the last character

            // Step 4: Assign the modified content back to the element
            element.textContent = content;
            stringOperation = content;
        }

        function clearText(){
            // Step 1: Select the HTML element
            const element = document.getElementById("field");

            // Step 2: Set the content to an empty string
            element.textContent = "";
            stringOperation = "";
        }

        function calculate(){
            console.log(stringOperation);

            try {
                // Use eval to evaluate the expression
                const result = eval(stringOperation);

                // Check if the result is a valid number
                if (typeof result === 'number' && !isNaN(result)) {
                    document.getElementById("field").textContent = result;
                } else {
                    throw new Error('Invalid expression');
                }
            } catch (error) {
                document.getElementById("error").textContent = 'Error: ' + error.message;
                return 'Error: ' + error.message;
            }

        }


    </script>
</body>
</html>
